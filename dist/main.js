(()=>{"use strict";function e(e){const n=new Date(1e3*e);return`${n.getHours()}:${`0${n.getMinutes()}`.substr(-2)}`}function n(n){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=e6ea60ae42c4f7ea5dbffec273b1f3a0&units=imperial`,{mode:"cors"}).then((e=>e.json())).then((n=>{var t,o;void 0!==n.main&&(function(e){const n=document.getElementById("current-location"),t=document.getElementById("current-temperature"),o=document.getElementById("current-high"),r=document.getElementById("current-low"),i=document.getElementById("current-weather-icon");n.innerHTML=`${e.name}, ${e.sys.country}`,t.innerHTML=`${Math.round(e.main.temp)}°`,o.innerHTML=`${Math.round(e.main.temp_max)}°`,r.innerHTML=` ${Math.round(e.main.temp_min)}°`,i.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}(n),function(e){var n;document.getElementById("summary").innerHTML=`${n=e.weather[0].description,"string"!=typeof n?"":n.charAt(0).toUpperCase()+n.slice(1)}. The high is ${Math.round(e.main.temp_max)}° and the low is ${Math.round(e.main.temp_min)}°.`}(n),function(n){const t=document.getElementById("feels-like"),o=document.getElementById("rain-chance"),r=document.getElementById("sunrise-time"),i=document.getElementById("sunset-time"),a=document.getElementById("wind"),m=document.getElementById("humidity"),c=document.getElementById("pressure"),s=document.getElementById("visibility");t.innerHTML=`${Math.round(n.main.feels_like)}°`,void 0!==n.rain?o.innerHTML=100*n.rain["1h"]+"%":o.innerHTML="0%",r.innerHTML=e(n.sys.sunrise+n.timezone),i.innerHTML=e(n.sys.sunset+n.timezone),a.innerHTML=`${Math.round(n.wind.speed)} mph`,m.innerHTML=`${n.main.humidity}%`,c.innerHTML=`${n.main.pressure} hPa`,1e4===parseInt(n.visibility,10)?s.innerHTML="6+ mi":s.innerHTML=`${Math.round(.0006213712*n.visibility)} mi`}(n),t=n.coord.lat,o=n.coord.lon,fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${o}&exclude=minutely,alerts&units=imperial&appid=e6ea60ae42c4f7ea5dbffec273b1f3a0`,{mode:"cors"}).then((e=>e.json())).then((e=>{console.log(e),function(e){const n=document.getElementsByClassName("hourly-headline");let t=e;for(let e=0;e<12;e++){t+=3600;const o=new Date(1e3*t).getHours();n[e].innerHTML=`${o}:00`}}(e.current.dt+e.timezone_offset),function(e){const n=document.getElementsByClassName("hourly-weather-icon"),t=document.getElementsByClassName("hourly-temperature");for(let o=0;o<12;o++)n[o].src=`http://openweathermap.org/img/wn/${e.hourly[o].weather[0].icon}@2x.png`,t[o].innerHTML=`${Math.round(e.hourly[o].temp)}°`}(e)})).catch((e=>{console.log(e)})),console.log(n))})).catch((e=>{console.log(e)}))}n("Reykjavík"),document.getElementById("search").addEventListener("submit",(function(e){e.preventDefault()})),document.getElementById("search-button").addEventListener("click",(async function(){n(document.getElementById("searchbar").value),document.getElementById("searchbar").value=""}))})();