(()=>{"use strict";function e(e){const n=new Date(1e3*e);return`${n.getHours()}:${`0${n.getMinutes()}`.substr(-2)}`}function n(n){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=e6ea60ae42c4f7ea5dbffec273b1f3a0&units=imperial`,{mode:"cors"}).then((e=>e.json())).then((n=>{var t,i;void 0!==n.main&&(function(e){const n=document.getElementById("current-location"),t=document.getElementById("current-temperature"),i=document.getElementById("current-high"),o=document.getElementById("current-low"),r=document.getElementById("current-weather-icon");n.innerHTML=`${e.name}, ${e.sys.country}`,t.innerHTML=`${Math.round(e.main.temp)}°`,i.innerHTML=`${Math.round(e.main.temp_max)}°`,o.innerHTML=` ${Math.round(e.main.temp_min)}°`,r.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}(n),function(e){var n;document.getElementById("summary").innerHTML=`${n=e.weather[0].description,"string"!=typeof n?"":n.charAt(0).toUpperCase()+n.slice(1)}. The high is ${Math.round(e.main.temp_max)}° and the low is ${Math.round(e.main.temp_min)}°.`}(n),function(n){const t=document.getElementById("feels-like"),i=document.getElementById("rain-chance"),o=document.getElementById("sunrise-time"),r=document.getElementById("sunset-time"),a=document.getElementById("wind"),m=document.getElementById("humidity"),c=document.getElementById("pressure"),d=document.getElementById("visibility");t.innerHTML=`${Math.round(n.main.feels_like)}°`,void 0!==n.rain?i.innerHTML=100*n.rain["1h"]+"%":i.innerHTML="0%",o.innerHTML=e(n.sys.sunrise+n.timezone),r.innerHTML=e(n.sys.sunset+n.timezone),a.innerHTML=`${Math.round(n.wind.speed)} mph`,m.innerHTML=`${n.main.humidity}%`,c.innerHTML=`${n.main.pressure} hPa`,1e4===parseInt(n.visibility,10)?d.innerHTML="6+ mi":d.innerHTML=`${Math.round(.0006213712*n.visibility)} mi`}(n),t=n.coord.lat,i=n.coord.lon,fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${i}&exclude=minutely,alerts&units=imperial&appid=e6ea60ae42c4f7ea5dbffec273b1f3a0`,{mode:"cors"}).then((e=>e.json())).then((e=>{console.log(e),function(e){let n=e;for(let e=1;e<=12;e++){n+=3600;const e=new Date(1e3*n).getHours();console.log(e)}}(e.current.dt+e.timezone_offset)})).catch((e=>{console.log(e)})),console.log(n))})).catch((e=>{console.log(e)}))}n("Reykjavík"),document.getElementById("search").addEventListener("submit",(function(e){e.preventDefault()})),document.getElementById("search-button").addEventListener("click",(async function(){n(document.getElementById("searchbar").value),document.getElementById("searchbar").value=""}))})();