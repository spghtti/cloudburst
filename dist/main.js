(()=>{"use strict";function e(e){const n=new Date(1e3*e);return`${n.getHours()}:${`0${n.getMinutes()}`.substr(-2)}`}function n(n){fetch(`http://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=e6ea60ae42c4f7ea5dbffec273b1f3a0&units=imperial`,{mode:"cors"}).then((e=>e.json())).then((n=>{void 0!==n.main&&(function(e){const n=document.getElementById("current-location"),t=document.getElementById("current-temperature"),i=document.getElementById("current-high"),r=document.getElementById("current-low"),m=document.getElementById("current-weather-icon");n.innerHTML=`${e.name}, ${e.sys.country}`,t.innerHTML=`${Math.round(e.main.temp)}°`,i.innerHTML=`${Math.round(e.main.temp_max)}°`,r.innerHTML=` ${Math.round(e.main.temp_min)}°`,m.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}(n),function(e){var n;document.getElementById("summary").innerHTML=`${n=e.weather[0].description,"string"!=typeof n?"":n.charAt(0).toUpperCase()+n.slice(1)}. The high is ${Math.round(e.main.temp_max)}° and the low is ${Math.round(e.main.temp_min)}°.`}(n),function(n){const t=document.getElementById("feels-like"),i=document.getElementById("rain-chance"),r=document.getElementById("sunrise-time"),m=document.getElementById("sunset-time"),o=document.getElementById("wind"),a=document.getElementById("humidity"),d=document.getElementById("pressure"),u=document.getElementById("visibility");t.innerHTML=`${Math.round(n.main.feels_like)}°`,void 0!==n.rain?i.innerHTML=100*n.rain["1h"]+"%":i.innerHTML="0%",r.innerHTML=e(n.sys.sunrise+n.timezone),m.innerHTML=e(n.sys.sunset+n.timezone),o.innerHTML=`${Math.round(n.wind.speed)} mph`,a.innerHTML=`${n.main.humidity}%`,d.innerHTML=`${n.main.pressure} hPa`,1e4===parseInt(n.visibility,10)?u.innerHTML="6+ mi":u.innerHTML=`${Math.round(.0006213712*n.visibility)} mi`}(n),console.log(n))})).catch((e=>{console.log(e)}))}n("Reykjavík"),document.getElementById("search").addEventListener("submit",(function(e){e.preventDefault()})),document.getElementById("search-button").addEventListener("click",(async function(){n(document.getElementById("searchbar").value),document.getElementById("searchbar").value=""}))})();